<html>
  <body>
    <!-- Just a div -->
    <div id="player"></div>
    <script
    src="https://code.jquery.com/jquery-3.3.1.min.js"
    integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>
    <script>
        //You can use this api key for the youtube api
var apiKey = 'AIzaSyCyVGFZ-inuql-kQti7pvfgdsrO1FijKV4';
var player;
var videoID; //defined globally in hopes of using it with the iframe api.

//Ajax call
$.ajax({
	 METHOD: 'GET',
	 url: 'https://www.googleapis.com/youtube/v3/search?key='+apiKey+'&part=snippet&q=dogs'
 }).then(function(response){
     //This gets the videoe id, which is used so that the yputube url will go to the correct video.
     videoID = response.items[0].id.videoId;
     var youtubeURL = "https://www.youtube.com/watch?v=" +videoID;
    console.log(youtubeURL);
     //All of this just grabs information from youtube's response and throws them into the above div.
     var thumbnail = response.items[0].snippet.thumbnails.high.url;
     var description = response.items[0].snippet.description;
     var newImg = $('<img>').attr('src',thumbnail);
     var newP = $('<p>').text(description);
    var newA = $('<a>').attr('href', youtubeURL);
    newA.append($(newImg));
     $('#player').append(newA, newP);
     console.log(videoID);
     $('#test').prepend(response.items[0].id)
     console.log(thumbnail);
     onYouTubeIframeAPIReady();
    
     
     
 })
//Could not get iframe api to work, so all this is commented out. If anyone wants to try to us
 function onYouTubeIframeAPIReady() {
     console.log(videoID)
        player = new YT.Player('player', {
          height: '390',
          width: '640',
          videoId: videoID,
          events: {
            'onReady': onPlayerReady,
            'onStateChange': onPlayerStateChange
          }
        });
      }
      function onPlayerReady(event) {
        event.target.playVideo();
      }
      var done = false;
      function onPlayerStateChange(event) {
        if (event.data == YT.PlayerState.PLAYING && !done) {
          setTimeout(stopVideo, 6000);
          done = true;
        }
      }
      function stopVideo() {
        player.stopVideo();
      }

    </script>
     <script src='https://www.youtube.com/iframe_api'></script>
  </body>
</html>